<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>⅁oogle</title>
<style>
:root{
    --bg:#fff; --text:#000; --card:#f3f3f3; --accent:#4285F4; --border:#dcdcdc;
}
.dark{--bg:#121212; --text:#fff; --card:#1f1f1f; --border:#333;}
html,body{height:100%;margin:0;font-family:Arial,sans-serif;display:flex;flex-direction:column;background:var(--bg);color:var(--text);transition:.3s;}
#topnav{padding:10px;text-align:right;flex:none;}
#topnav a{margin-left:10px;color:var(--text);text-decoration:none;}
#topnav a:hover{text-decoration:underline;}
#tabBar{display:flex;background:var(--card);border-bottom:1px solid var(--border);flex:none;overflow-x:auto;}
.tab{padding:8px 18px;background:var(--card);border-right:1px solid var(--border);cursor:pointer;display:flex;align-items:center;gap:6px;transition:.3s;}
.tab.active{background:var(--bg);border-bottom:3px solid var(--accent);}
.closeBtn{color:#888;cursor:pointer;}
#newTab{padding:8px 18px;cursor:pointer;}
#mainContainer{flex:1;display:flex;flex-direction:column;overflow:hidden;}
.page{display:none;flex:1;overflow:auto;padding:20px;}
#homepage{animation:fadeIn 1s ease;text-align:center;margin-top:5%;}
@keyframes fadeIn{from{opacity:0;transform:translateY(15px);}to{opacity:1;transform:translateY(0);}}
.logo{font-size:90px;font-weight:bold;color:var(--accent);letter-spacing:2px;}
#searchInput{width:90%;max-width:550px;padding:14px;font-size:18px;border-radius:30px;border:1px solid var(--border);outline:none;margin-top:30px;transition:.2s;}
#searchInput:focus{box-shadow:0 0 8px var(--accent);}
#searchBtns button{padding:12px 25px;margin-top:25px;background:var(--card);border:none;border-radius:4px;margin-left:5px;cursor:pointer;transition:.2s;}
#searchBtns button:hover{background:#e0e0e0;}
#settingsPopup{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:var(--bg);padding:30px;border-radius:8px;box-shadow:0 10px 30px rgba(0,0,0,0.2);max-width:400px;display:none;z-index:1000;}
#settingsPopup h2{margin-top:0;}
.engine-option{margin-bottom:10px;font-size:18px;}
#settingsPopup button{margin-top:10px;padding:10px 20px;border:none;border-radius:4px;background:var(--accent);color:#fff;cursor:pointer;}
.resultCard{border-bottom:1px solid #e0e0e0;padding:12px 0;}
.resultCard a{color:#1a0dab;font-size:18px;text-decoration:none;}
.resultCard a:hover{text-decoration:underline;}
.tab.removing{opacity:0;height:0;padding:0;margin:0;transition:all .3s ease;}
</style>
</head>
<body>

<div id="topnav">
    <a href="#" onclick="openTab('home')">Home</a>
    <a href="#" onclick="openSettings()">Settings</a>
    <a href="#" onclick="toggleDark()">Dark Mode</a>
</div>

<div id="tabBar">
    <div id="newTab" onclick="createTab()">+</div>
</div>

<div id="mainContainer">
    <div id="homepage" class="page">
        <div class="logo">⅁oogle</div>
        <input id="searchInput" placeholder="Search or enter URL...">
        <div id="searchBtns">
            <button onclick="doSearch()">⅁oogle Search</button>
            <button onclick="imageSearch()">Images</button>
        </div>
    </div>

    <div id="settingsPopup">
        <h2>Search Engine</h2>
        <div class="engine-option"><input type="radio" name="engine" value="google" checked> Google</div>
        <div class="engine-option"><input type="radio" name="engine" value="bing"> Bing</div>
        <div class="engine-option"><input type="radio" name="engine" value="duckduckgo"> DuckDuckGo</div>
        <button onclick="saveSettings()">Save</button>
    </div>

    <div id="resultsPage" class="page">
        <div id="resultsContainer"></div>
    </div>
</div>

<script>
let tabs={},activeTab=null;

function createTab(){
    let id="tab"+Date.now();
    tabs[id]={page:"home"};
    let div=document.createElement("div");
    div.className="tab"; div.id=id;
    div.innerHTML=`<span>New Tab</span><span class="closeBtn" onclick="closeTab('${id}',event)">x</span>`;
    div.onclick=()=>setActiveTab(id);
    document.getElementById("tabBar").insertBefore(div,document.getElementById("newTab"));
    setActiveTab(id);
}

function closeTab(id,e){
    e.stopPropagation();
    let tab=document.getElementById(id);
    tab.classList.add("removing");
    tab.addEventListener("transitionend",()=>{tab.remove(); delete tabs[id]; if(activeTab===id){let o=Object.keys(tabs)[0];if(o)setActiveTab(o);else createTab();}}, {once:true});
}

function setActiveTab(id){
    activeTab=id;
    document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
    document.getElementById(id).classList.add("active");
    openTab(tabs[id].page);
}

function openTab(page){
    document.querySelectorAll(".page").forEach(p=>p.style.display="none");
    tabs[activeTab].page=page;
    if(page==="home")document.getElementById("homepage").style.display="block";
    if(page==="results")document.getElementById("resultsPage").style.display="block";
}

function toggleDark(){document.body.classList.toggle("dark");}

function openSettings(){document.getElementById("settingsPopup").style.display="block";}
function saveSettings(){
    let sel=document.querySelector("input[name=engine]:checked");
    if(sel) localStorage.setItem("engine",sel.value);
    document.getElementById("settingsPopup").style.display="none";
}

document.getElementById("searchInput").addEventListener("keydown",function(e){
    if(e.key==="Enter"){e.preventDefault();doSearch();}
});

function doSearch(){
    let q=document.getElementById("searchInput").value.trim();
    if(!q)return;
    let engine=localStorage.getItem("engine")||"google";
    openTab("results");

    let resultsDiv=document.getElementById("resultsContainer");
    resultsDiv.innerHTML="";
    for(let i=1;i<=5;i++){
        let link = q.startsWith("http") ? q : (engine==="google" ? "https://www.google.com/search?q="+encodeURIComponent(q) : engine==="bing" ? "https://www.bing.com/search?q="+encodeURIComponent(q) : "https://duckduckgo.com/?q="+encodeURIComponent(q));
        let card=document.createElement("div"); card.className="resultCard";
        card.innerHTML=`<a href="${link}" target="_blank">${q} Result ${i}</a>`;
        resultsDiv.appendChild(card);
    }
}

function imageSearch(){
    let q=document.getElementById("searchInput").value.trim();
    if(!q)return;
    let url="https://duckduckgo.com/?q="+encodeURIComponent(q)+"&iax=images&ia=images";
    window.open(url,"_blank");
}

// first tab on load
createTab();
</script>

</body>
</html>
